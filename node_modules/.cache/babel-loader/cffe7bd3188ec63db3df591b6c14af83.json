{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shiryaeviy\\\\Desktop\\\\\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\\\\Frontend\\\\Projects\\\\react_zen\\\\src\\\\layout\\\\Modal\\\\components\\\\Form\\\\Form.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { API_BASE_URL } from \"../../../../constans/api\";\nimport Input from \"../Input\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Form = _ref => {\n  _s();\n\n  let {\n    className,\n    form\n  } = _ref;\n  const {\n    fields,\n    connection: {\n      label,\n      options\n    },\n    policy: {\n      checkbox,\n      linkPolicy: {\n        url,\n        data\n      }\n    },\n    buttonText\n  } = form;\n  const orderInput = fields.reduce((a, v) => ({ ...a,\n    [v.placeholder.toLowerCase()]: ''\n  }), {});\n  const [order, setOrder] = useState({ ...orderInput,\n    connection: '',\n    isPolicy: true\n  });\n\n  const handleOnChange = event => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = event.target;\n    type === 'checkbox' ? setOrder({ ...order,\n      [name]: checked\n    }) : setOrder({ ...order,\n      [name]: value,\n      data: new Date().toLocaleString(),\n      type: 'order'\n    });\n  };\n\n  const handleFormSubmit = event => {\n    event.preventDefault();\n    console.log({\n      order\n    }); // fetch(`${API_BASE_URL}/orders/.json`, {\n    //   method: 'POST',\n    //   body: JSON.stringify(order)\n    // })\n    //   .catch(error => console.error(error))\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: `${className}__form`,\n    onSubmit: handleFormSubmit,\n    children: [fields.length && fields.map(field => /*#__PURE__*/_jsxDEV(Input, {\n      className: className,\n      field: field,\n      order: order,\n      handleOnChange: handleOnChange\n    }, field.type, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }, this)), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: order.connection ? `${className}__select success` : `${className}__select`,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"connection\",\n        value: order.connection,\n        onChange: handleOnChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), options.length && options.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: option.value,\n          children: option.text\n        }, option.value, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: `${className}__policy`,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: checkbox.type,\n        name: \"isPolicy\",\n        checked: order.isPolicy,\n        onChange: handleOnChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: url,\n        children: data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: `${className}__btn`,\n      type: \"submit\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: buttonText ? buttonText : 'Submit'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Form, \"yrOSn7XDMg3njqv3q2Bzxkk0NX0=\");\n\n_c = Form;\nexport default Form;\n/*\r\n{fields.length && (\r\n        fields.map(field => \r\n          <Input \r\n            className={childClassName} \r\n            field={field}\r\n            key={field.type}\r\n            order={name}\r\n            handleOnChange={handleOnChange}\r\n          />\r\n        )\r\n      )}\r\n*/\n\n/*\r\n<input\r\n        className={validateForm(order.name, 'text')\r\n          ? `${childClassName}__input success`\r\n          : `${childClassName}__input error`\r\n        } \r\n        type='text'\r\n        name='name'\r\n        value={order.name}\r\n        onChange={handleOnChange}\r\n      />\r\n      <input\r\n        className={validateForm(order.tel, 'tel')\r\n          ? `${childClassName}__input success`\r\n          : `${childClassName}__input error`\r\n        } \r\n        type='tel'\r\n        name='tel'\r\n        value={order.tel}\r\n        onChange={handleOnChange}\r\n      />\r\n      <input\r\n        className={validateForm(order.email, 'email')\r\n          ? `${childClassName}__input success`\r\n          : `${childClassName}__input error`\r\n        } \r\n        type='email'\r\n        name='email'\r\n        value={order.email}\r\n        onChange={handleOnChange}\r\n      />\r\n*/\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"names":["useState","API_BASE_URL","Input","Form","className","form","fields","connection","label","options","policy","checkbox","linkPolicy","url","data","buttonText","orderInput","reduce","a","v","placeholder","toLowerCase","order","setOrder","isPolicy","handleOnChange","event","name","value","type","checked","target","Date","toLocaleString","handleFormSubmit","preventDefault","console","log","length","map","field","option","text"],"sources":["C:/Users/shiryaeviy/Desktop/Документы/Frontend/Projects/react_zen/src/layout/Modal/components/Form/Form.js"],"sourcesContent":["import { useState } from \"react\"\r\nimport { API_BASE_URL } from \"../../../../constans/api\"\r\nimport Input from \"../Input\"\r\n\r\nconst Form = ({className, form}) => {\r\n  const {\r\n    fields, \r\n    connection: {\r\n      label,\r\n      options\r\n    }, \r\n    policy: {\r\n      checkbox,\r\n      linkPolicy: {\r\n        url,\r\n        data\r\n      }\r\n    }, \r\n    buttonText\r\n  } = form\r\n\r\n  const orderInput = fields.reduce((a, v) =>\r\n    ({...a, [v.placeholder.toLowerCase()]: ''})\r\n  ,{}) \r\n\r\n  const [order, setOrder] = useState({\r\n    ...orderInput,\r\n    connection: '',\r\n    isPolicy: true\r\n  })\r\n\r\n  const handleOnChange = (event) => {\r\n    const {name, value, type, checked} = event.target\r\n\r\n    type === 'checkbox' \r\n    ? setOrder({\r\n      ...order,\r\n      [name]: checked\r\n    })\r\n    : setOrder({\r\n      ...order,\r\n      [name]: value,\r\n      data: new Date().toLocaleString(),\r\n      type: 'order'\r\n    })    \r\n  }\r\n\r\n  const handleFormSubmit = (event) => {\r\n    event.preventDefault()\r\n\r\n    console.log({order})\r\n\r\n    // fetch(`${API_BASE_URL}/orders/.json`, {\r\n    //   method: 'POST',\r\n    //   body: JSON.stringify(order)\r\n    // })\r\n    //   .catch(error => console.error(error))\r\n  }\r\n\r\n  return (\r\n    <form \r\n      className={`${className}__form`} \r\n      onSubmit={handleFormSubmit}\r\n    >      \r\n      {fields.length && (\r\n        fields.map(field => \r\n          <Input \r\n            className={className} \r\n            field={field}\r\n            key={field.type}\r\n            order={order}\r\n            handleOnChange={handleOnChange}\r\n          />\r\n        )\r\n      )}\r\n      <label \r\n        className={order.connection\r\n          ? `${className}__select success`\r\n          : `${className}__select`\r\n        }\r\n      >\r\n        <span>{label}</span>          \r\n        <select\r\n          name='connection'\r\n          value={order.connection}\r\n          onChange={handleOnChange}\r\n        >\r\n          <option></option>\r\n          {options.length && (\r\n            options.map(option => \r\n              <option \r\n                value={option.value} \r\n                key={option.value}\r\n              >\r\n                {option.text}\r\n              </option>\r\n            )\r\n          )}\r\n        </select>\r\n      </label>    \r\n      <label className={`${className}__policy`}>\r\n        <input \r\n          type={checkbox.type} \r\n          name='isPolicy'\r\n          checked={order.isPolicy}\r\n          onChange={handleOnChange}\r\n        />\r\n        <a href={url}>\r\n          {data}\r\n        </a>\r\n      </label>\r\n      <button \r\n        className={`${className}__btn`} \r\n        type='submit' \r\n      >\r\n        <span>\r\n          {buttonText ? buttonText : 'Submit'}\r\n        </span>\r\n      </button>      \r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Form\r\n\r\n/*\r\n{fields.length && (\r\n        fields.map(field => \r\n          <Input \r\n            className={childClassName} \r\n            field={field}\r\n            key={field.type}\r\n            order={name}\r\n            handleOnChange={handleOnChange}\r\n          />\r\n        )\r\n      )}\r\n*/\r\n\r\n/*\r\n<input\r\n        className={validateForm(order.name, 'text')\r\n          ? `${childClassName}__input success`\r\n          : `${childClassName}__input error`\r\n        } \r\n        type='text'\r\n        name='name'\r\n        value={order.name}\r\n        onChange={handleOnChange}\r\n      />\r\n      <input\r\n        className={validateForm(order.tel, 'tel')\r\n          ? `${childClassName}__input success`\r\n          : `${childClassName}__input error`\r\n        } \r\n        type='tel'\r\n        name='tel'\r\n        value={order.tel}\r\n        onChange={handleOnChange}\r\n      />\r\n      <input\r\n        className={validateForm(order.email, 'email')\r\n          ? `${childClassName}__input success`\r\n          : `${childClassName}__input error`\r\n        } \r\n        type='email'\r\n        name='email'\r\n        value={order.email}\r\n        onChange={handleOnChange}\r\n      />\r\n*/"],"mappings":"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"},"metadata":{},"sourceType":"module"}