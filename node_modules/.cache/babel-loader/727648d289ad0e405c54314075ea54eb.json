{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shiryaeviy\\\\Desktop\\\\\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\\\\Frontend\\\\Projects\\\\react_zen\\\\src\\\\layout\\\\Modal\\\\components\\\\Form\\\\Form.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\"; // import { API_BASE_URL } from \"../../../../constans/api\"\n\nimport Input from \"../Input\";\nimport { validateForm } from \"../../../../utils/helpers\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Form = _ref => {\n  _s();\n\n  let {\n    className,\n    form\n  } = _ref;\n  const {\n    fields,\n    connection: {\n      label,\n      options\n    },\n    policy: {\n      checkbox,\n      linkPolicy: {\n        url,\n        data\n      }\n    },\n    buttonText\n  } = form;\n  const [order, setOrder] = useState({\n    name: '',\n    tel: '',\n    email: '',\n    connection: '',\n    isPolicy: true\n  });\n  const v = false;\n  const [isValidate, setIsValidate] = useState(false);\n\n  const handleOnChange = event => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = event.target;\n    type === 'checkbox' ? setOrder({ ...order,\n      [name]: checked\n    }) : setOrder({ ...order,\n      [name]: value,\n      data: new Date().toLocaleString(),\n      type: 'order'\n    });\n    const validateData = field.type === 'text' ? order.name : order[`${field.type}`];\n    setIsValidate(validateForm(validateData, field.type));\n  };\n\n  const handleFormSubmit = event => {\n    event.preventDefault();\n    console.log({\n      order\n    }); // fetch(`${API_BASE_URL}/orders/.json`, {\n    //   method: 'POST',\n    //   body: JSON.stringify(order)\n    // })\n    //   .catch(error => console.error(error))\n  };\n\n  function checkForm(order) {}\n\n  console.log(v);\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: `${className}__form`,\n    onSubmit: handleFormSubmit,\n    children: [fields.length && fields.map(field => /*#__PURE__*/_jsxDEV(Input, {\n      className: className,\n      field: field,\n      order: order,\n      handleOnChange: handleOnChange\n    }, field.type, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }, this)), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: order.connection ? `${className}__select success` : `${className}__select error`,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"connection\",\n        value: order.connection,\n        onChange: handleOnChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), options.length && options.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: option.value,\n          children: option.text\n        }, option.value, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: `${className}__policy`,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: checkbox.type,\n        name: \"isPolicy\",\n        checked: order.isPolicy,\n        onChange: handleOnChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: url,\n        children: data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: `${className}__btn`,\n      type: \"submit\",\n      disabled: isValidate ? 'enable' : 'disabled',\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: buttonText ? buttonText : 'Submit'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Form, \"Dx8ZAmobWWbxxCy7kzFJcr/jwg0=\");\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"names":["useState","Input","validateForm","Form","className","form","fields","connection","label","options","policy","checkbox","linkPolicy","url","data","buttonText","order","setOrder","name","tel","email","isPolicy","v","isValidate","setIsValidate","handleOnChange","event","value","type","checked","target","Date","toLocaleString","validateData","field","handleFormSubmit","preventDefault","console","log","checkForm","length","map","option","text"],"sources":["C:/Users/shiryaeviy/Desktop/Документы/Frontend/Projects/react_zen/src/layout/Modal/components/Form/Form.js"],"sourcesContent":["import { useState } from \"react\"\r\n// import { API_BASE_URL } from \"../../../../constans/api\"\r\nimport Input from \"../Input\"\r\nimport { validateForm } from \"../../../../utils/helpers\"\r\n\r\n\r\nconst Form = ({className, form}) => {\r\n  const {\r\n    fields, \r\n    connection: {\r\n      label,\r\n      options\r\n    }, \r\n    policy: {\r\n      checkbox,\r\n      linkPolicy: {\r\n        url,\r\n        data\r\n      }\r\n    }, \r\n    buttonText\r\n  } = form\r\n\r\n  const [order, setOrder] = useState({\r\n    name: '',\r\n    tel: '',\r\n    email: '',\r\n    connection: '',\r\n    isPolicy: true\r\n  })\r\n\r\n  const v = false\r\n\r\n  const [isValidate, setIsValidate] = useState(false)\r\n  \r\n  const handleOnChange = (event) => {\r\n    const {name, value, type, checked} = event.target\r\n    \r\n    type === 'checkbox' \r\n    ? setOrder({\r\n      ...order,\r\n      [name]: checked\r\n    })\r\n    : setOrder({\r\n      ...order,\r\n      [name]: value,\r\n      data: new Date().toLocaleString(),\r\n      type: 'order'\r\n    })   \r\n\r\n    const validateData = field.type === 'text'\r\n    ? order.name\r\n    : order[`${field.type}`]\r\n\r\n    setIsValidate(validateForm(validateData, field.type))\r\n  }\r\n\r\n  const handleFormSubmit = (event) => {\r\n    event.preventDefault()\r\n\r\n    console.log({order})\r\n\r\n    // fetch(`${API_BASE_URL}/orders/.json`, {\r\n    //   method: 'POST',\r\n    //   body: JSON.stringify(order)\r\n    // })\r\n    //   .catch(error => console.error(error))\r\n  }\r\n\r\n  function checkForm(order) {\r\n    \r\n  }\r\n\r\n  console.log(v);\r\n\r\n  return (\r\n    <form \r\n      className={`${className}__form`} \r\n      onSubmit={handleFormSubmit}\r\n    >      \r\n      {fields.length && (\r\n        fields.map(field => \r\n          <Input \r\n            className={className} \r\n            field={field}\r\n            key={field.type}\r\n            order={order}\r\n            handleOnChange={handleOnChange}\r\n          />\r\n        )\r\n      )}\r\n      <label \r\n        className={order.connection\r\n          ? `${className}__select success`\r\n          : `${className}__select error`\r\n        }\r\n      >\r\n        <span>{label}</span>          \r\n        <select\r\n          name='connection'\r\n          value={order.connection}\r\n          onChange={handleOnChange}\r\n        >\r\n          <option></option>\r\n          {options.length && (\r\n            options.map(option => \r\n              <option \r\n                value={option.value} \r\n                key={option.value}\r\n              >\r\n                {option.text}\r\n              </option>\r\n            )\r\n          )}\r\n        </select>\r\n      </label>    \r\n      <label className={`${className}__policy`}>\r\n        <input \r\n          type={checkbox.type} \r\n          name='isPolicy'\r\n          checked={order.isPolicy}\r\n          onChange={handleOnChange}\r\n        />\r\n        <a href={url}>\r\n          {data}\r\n        </a>\r\n      </label>\r\n      <button \r\n        className={`${className}__btn`} \r\n        type='submit'\r\n        disabled={isValidate ? 'enable' : 'disabled'} \r\n      >\r\n        <span>\r\n          {buttonText ? buttonText : 'Submit'}\r\n        </span>\r\n      </button>      \r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Form"],"mappings":"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"},"metadata":{},"sourceType":"module"}